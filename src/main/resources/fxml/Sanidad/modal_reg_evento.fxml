<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.avitech.sia.iu.sanidad.RegEventoController"
           pickOnBounds="false">
    <VBox spacing="14" styleClass="card" maxWidth="760" prefWidth="760">
        <children>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <children>
                    <Label text="Registrar Evento Sanitario" styleClass="h2"/>
                    <Pane HBox.hgrow="ALWAYS"/>
                    <Button text="✕" onAction="#onClose" styleClass="ghostBtn"/>
                </children>
            </HBox>
            <Label text="Formulario de entrada de datos" styleClass="helper"/>

            <GridPane hgap="16" vgap="12">
                <columnConstraints>
                    <ColumnConstraints percentWidth="50"/>
                    <ColumnConstraints percentWidth="50"/>
                </columnConstraints>

                <!-- Col 1 -->
                <Label text="Fecha *" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="input-label"/>
                <DatePicker fx:id="dpFecha" GridPane.rowIndex="1" GridPane.columnIndex="0"/>

                <Label text="Tipo de Evento *" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="input-label"/>
                <ComboBox fx:id="cbTipoEvento" promptText="Enfermedad / Incidencia / Otro"
                          GridPane.rowIndex="3" GridPane.columnIndex="0"/>

                <Label text="Descripción del Evento *" GridPane.rowIndex="4" GridPane.columnIndex="0" styleClass="input-label"/>
                <TextArea fx:id="taDescripcion" prefRowCount="3"
                          GridPane.rowIndex="5" GridPane.columnIndex="0"/>

                <Label text="Acciones Tomadas *" GridPane.rowIndex="6" GridPane.columnIndex="0" styleClass="input-label"/>
                <TextArea fx:id="taAcciones" prefRowCount="2"
                          GridPane.rowIndex="7" GridPane.columnIndex="0"/>

                <!-- Col 2 -->
                <Label text="Lote/Galpón Afectado *" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="input-label"/>
                <ComboBox fx:id="cbLoteAfectado" promptText="Seleccionar lote"
                          GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Aves Afectadas *" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="input-label"/>
                <TextField fx:id="tfAvesAfectadas" promptText="Número de aves afectadas"
                           GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Responsable del Reporte *" GridPane.rowIndex="4" GridPane.columnIndex="1" styleClass="input-label"/>
                <ComboBox fx:id="cbResponsable" promptText="Seleccionar responsable"
                          GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                <Label text="Importante:" GridPane.rowIndex="6" GridPane.columnIndex="1" styleClass="input-label"/>
                <TextArea editable="false" wrapText="true"
                          text="Los eventos sanitarios son registrados para seguimiento estadístico y toma de decisiones. Asegúrese de proporcionar información precisa."
                          GridPane.rowIndex="7" GridPane.columnIndex="1"/>
            </GridPane>

            <HBox spacing="10" alignment="CENTER_RIGHT">
                <children>
                    <Button text="Cancelar" onAction="#onClose" styleClass="ghostBtn"/>
                    <Button text="Registrar Evento" onAction="#onSave" styleClass="primary"/>
                </children>
            </HBox>
        </children>
        <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>
    </VBox>
</StackPane>
