<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.avitech.sia.iu.sanidad.RegAplicacionController"
           pickOnBounds="false">
    <!-- panel blanco del diálogo -->
    <VBox spacing="14" styleClass="card" maxWidth="720" prefWidth="720">
        <children>
            <!-- Header -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <children>
                    <Label text="Registrar Aplicación de Medicamento" styleClass="h2"/>
                    <Pane HBox.hgrow="ALWAYS"/>
                    <Button text="✕" onAction="#onClose" styleClass="ghostBtn"/>
                </children>
            </HBox>
            <Label text="Formulario de entrada de datos" styleClass="helper"/>

            <!-- 2 columnas -->
            <GridPane hgap="16" vgap="12">
                <columnConstraints>
                    <ColumnConstraints percentWidth="50"/>
                    <ColumnConstraints percentWidth="50"/>
                </columnConstraints>

                <!-- col 1 -->
                <Label text="Fecha *" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="input-label"/>
                <DatePicker fx:id="dpFecha" GridPane.rowIndex="1" GridPane.columnIndex="0" />

                <Label text="Medicamento *" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="input-label"/>
                <ComboBox fx:id="cbMedicamento" promptText="Seleccionar medicamento"
                          GridPane.rowIndex="3" GridPane.columnIndex="0"/>

                <Label text="Vía de Aplicación *" GridPane.rowIndex="4" GridPane.columnIndex="0" styleClass="input-label"/>
                <ComboBox fx:id="cbViaAplicacion" promptText="Seleccionar vía"
                          GridPane.rowIndex="5" GridPane.columnIndex="0"/>

                <Label text="Observaciones" GridPane.rowIndex="6" GridPane.columnIndex="0" styleClass="input-label"/>
                <TextArea fx:id="taObs" prefRowCount="3" GridPane.rowIndex="7" GridPane.columnIndex="0"/>

                <!-- col 2 -->
                <Label text="Lote/Galpón *" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="input-label"/>
                <ComboBox fx:id="cbLoteGalpon" promptText="Seleccionar lote"
                          GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Dosis *" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="input-label"/>
                <TextField fx:id="tfDosis" promptText="Ej: 10 (unidades del medicamento)"
                           GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Responsable *" GridPane.rowIndex="4" GridPane.columnIndex="1" styleClass="input-label"/>
                <ComboBox fx:id="cbResponsable" promptText="Seleccionar responsable"
                          GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                <Label text="Nota:" styleClass="input-label" GridPane.rowIndex="6" GridPane.columnIndex="1"/>
                <TextArea editable="false" wrapText="true"
                          text="Al registrar esta aplicación, se descontará automáticamente el medicamento del inventario según la dosis aplicada."
                          GridPane.rowIndex="7" GridPane.columnIndex="1"/>
            </GridPane>

            <!-- footer -->
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <children>
                    <Button text="Cancelar" onAction="#onClose" styleClass="ghostBtn"/>
                    <Button text="Registrar Aplicación" onAction="#onSave" styleClass="primary"/>
                </children>
            </HBox>
        </children>
        <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>
    </VBox>
</StackPane>
